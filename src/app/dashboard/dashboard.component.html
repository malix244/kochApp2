<div class="dashboard-component p-3">
  <div class="ad">
    <h1 class="text-uppercase">
      New ideas for cooking and baking around the clock
    </h1>
  </div>
  <div class="loading-spinner" *ngIf="weeklyRecipes.length < 3 || randomRecipes.length < 3">
    <mat-spinner></mat-spinner>
  </div>
  <div class="weekly-banner" *ngIf="weeklyRecipes.length === 3">
    <h2>
      Weekly Selection:
    </h2>
    <div class="weekly-recipes card-container">
      <div class="card shadow-lg" *ngFor="let recipe of weeklyRecipes">
        <div class="header" [ngStyle]="{'background': 'url(' + appComponent.getBackground(recipe) + ') no-repeat center', 'background-size' : 'cover'}">
          <div class="icon">
            <a (click)="changeFavourite()"><fa-icon [icon]="heart"></fa-icon></a>
          </div>
        </div>
        <div class="text">
          <h3 class="food text-uppercase">
            {{ (recipe.name.length>40)? (recipe.name | slice:0:40)+'..':(recipe.name) }}
          </h3>
          <div class="food-stats">
            <div class="clock"><fa-icon [icon]="farClock"></fa-icon>{{ recipe.cook_time_minutes + recipe.prep_time_minutes }} Mins</div>
            <div class="users"><fa-icon [icon]="farUsers"></fa-icon>{{ recipe.yields}}</div>
          </div>
          <div class="stars">
            <li *ngIf="recipe.user_ratings !== undefined">
              <a *ngFor="let ratingStar of appComponent.calculatedStars(recipe.user_ratings.score)">
                <fa-icon [icon]="ratingStar"></fa-icon>
              </a>
            </li>
          </div>
        </div>
        <a class="btn text-uppercase" (click)="appComponent.open(recipe)">Let's Cook!</a>
      </div>
    </div>
  </div>
  <div class="random-recipes-container" *ngIf="randomRecipes.length === 3">
    <h2>
      Random Recipes:
    </h2>
    <div class="random-recipes card-container">
      <div class="card shadow-lg" *ngFor="let recipe of randomRecipes">
        <div class="header" [ngStyle]="{'background': 'url(' + appComponent.getBackground(recipe) + ') no-repeat center', 'background-size' : 'cover'}">
          <div class="icon">
            <a (click)="changeFavourite()"><fa-icon [icon]="heart"></fa-icon></a>
          </div>
        </div>
        <div class="text">
          <h3 class="food text-uppercase">
            {{ (recipe.name.length>40)? (recipe.name | slice:0:40)+'..':(recipe.name) }}
          </h3>
          <div class="food-stats">
            <div class="clock"><fa-icon [icon]="farClock"></fa-icon>{{ recipe.cook_time_minutes + recipe.prep_time_minutes }} Mins</div>
            <div class="users"><fa-icon [icon]="farUsers"></fa-icon>{{ recipe.yields}}</div>
          </div>
          <div class="stars">
            <li *ngIf="recipe.user_ratings !== undefined">
              <a *ngFor="let ratingStar of appComponent.calculatedStars(recipe.user_ratings.score)">
                <fa-icon [icon]="ratingStar"></fa-icon>
              </a>
            </li>
          </div>
        </div>
        <a class="btn text-uppercase" (click)="appComponent.open(recipe)">Let's Cook!</a>
      </div>
    </div>
  </div>
</div>

